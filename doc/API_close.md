[XiCluster API reference Manual](API.md)  

## xi_close()
  
**名前**  
  xi_close - ファイルのクローズを行う。
  
**書式**  
  #include "xi_client.h"  
  
  in xi_close(int fd);  
  
**説明**  
 xi_close()  はファイル・ディスクリプター (descriptor) をクローズする。そのディスクリプターは、どのファイルも参照していない状態になり、再使用が可能になる。そのファイルディスクリプターに関連づけられたファイルにかけられた レコード・ロック のうち、そのプロセスが保有しているものは、 (そのファイルディスクリプターがロック取得に利用されたかどうかによらず) すべて削除される。  
fd がそのファイル・ディスクリプターの最後のコピーだった場合には、そのディスクリプターに関連したリソースは解放される。ディスクリプターが unlink を使用して削除 (remove) されたファイルに対する最後の参照だった場合には、そのファイルは除去 (delete) される。  
  
**返り値**  
  xi_close() は成功した場合は 0 を返す。エラーが発生した場合は マイナス値 を返して、 xi_errno を適切に設定する。  
  
**注意**  
  xi_close() の返り値のチェックはよく省略されるが、これは深刻なプログラミングエラーである。前の write() 処理が 最後の close() のときになって初めて通知される場合に、エラーが起きる可能性が高い。ファイルクローズの際に返り値をチェックしないと、気付かないうちにデータを失ってしまう可能性がある。  
クローズに成功しても、データがディスクに保存されたかどうかは保証されない。  
  
**エラー**  
  XI_ERRNO_PARA   パラメータエラー  
  
**制限**  
  

